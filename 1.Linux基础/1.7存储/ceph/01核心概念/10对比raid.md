### 对比raid

`RAID`(Redundant Array of Independent Disks)即独立冗余磁盘阵列，是一种把多块独立的硬盘（物理硬盘）按不同的方式组合起来形成一个硬盘组（逻辑硬盘），让用户认为只有一个单个超大硬盘，从而提供比单个硬盘更高的存储性能和提供数据备份技术

- RAID
    - 漫长的重建过程，而且在重建过程中，不能有第二块盘损坏，否则会引发更大的问题；

    - 备用盘增加[TCO](https://baike.baidu.com/item/tco/5979397?fr=aladdin) ，作为备用盘，当没有硬盘故障时，就会一直闲置的

    - 不能保证两块盘同时故障后，数据的可靠性

    - 在重建结束前，客户端无法获取到足够的`IO`资源

    - 无法避免网络、服务器硬件、操作系统、电源等故障

- Ceph
    - 为了保证可靠性，采用了数据复制的方式，这意味着不再需要`RAID`，也就克服了`RAID`存在的诸多问题

    - `Ceph` 数据存储原则：一个`Pool` 有若干`PG`，每个`PG` 包含若干对象，一个对象只能存储在一个`PG`中，而`Ceph` 默认一个`PG` 包含三个`OSD`，每个`OSD`都可看做一块硬盘。
      因此，一个对象存储在`Ceph`中时，就被保存了三份。当一个磁盘故障时，还剩下2个`PG`，系统就会从另外两个`PG`中复制数据到其他磁盘上。这个是由`crush`算法决定

    - 磁盘复制属性值可以通过管理员进行调整

    - 磁盘存储上使用了加权机制，所以磁盘大小不一致也不会出现问题