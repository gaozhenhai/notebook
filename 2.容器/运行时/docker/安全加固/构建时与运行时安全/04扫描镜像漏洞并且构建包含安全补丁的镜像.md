## 扫描镜像漏洞并且构建包含安全补丁的镜像

### 描述

应该经常扫描镜像以查找漏洞。重建镜像安装最新的补丁。

### 隐患分析

安全补丁可以解决软件的安全问题。可以使用镜像漏洞扫描工具来查找镜像中的任何类型的漏洞，然后检查可用的补丁以减轻这些漏洞。
修补程序将系统更新到最新的代码库。此外，如果镜像漏洞扫描工具可以执行二进制级别分析，而不仅仅是版本字符串匹配，则会更好

### 审计方式

> 1.通过执行以下命令列出所有运行的容器实例

```shell script
$ docker ps --quiet
```
> 2.对于每个容器实例，执行下面的或等效的命令来查找容器中安装的包的列表,确保安装各种受影响软件包的安全更新。

```shell script
$ docker exec <container-id> rpm -qa
```

### 修复建议

定期更新基础镜像版本`tag`（或使用`latest`版本镜像，每日执行构建）及镜像内必须软件版本

## 参考文档

- Docker容器最佳安全实践白皮书（V1.0）
- [Docker官方文档](https://docs.docker.com/)